<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DDTV API Doc | DDTV 你的地表最强B站录播机</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="DDTV-你的地表最强B站录播机。一个可进行B站直播开播提醒.自动录制.在线播放、直播状态查看、跨平台部署的绿色工具。">
    
    <link rel="preload" href="/assets/css/0.styles.7ed32371.css" as="style"><link rel="preload" href="/assets/js/app.38557d80.js" as="script"><link rel="preload" href="/assets/js/3.0296fe51.js" as="script"><link rel="preload" href="/assets/js/8.c5ecf089.js" as="script"><link rel="prefetch" href="/assets/js/10.4f933b9d.js"><link rel="prefetch" href="/assets/js/11.51b8e9ae.js"><link rel="prefetch" href="/assets/js/12.0bff105b.js"><link rel="prefetch" href="/assets/js/13.f97be147.js"><link rel="prefetch" href="/assets/js/14.893e6920.js"><link rel="prefetch" href="/assets/js/15.8d97bec9.js"><link rel="prefetch" href="/assets/js/16.f3724054.js"><link rel="prefetch" href="/assets/js/17.680f8f1f.js"><link rel="prefetch" href="/assets/js/18.28171a17.js"><link rel="prefetch" href="/assets/js/19.a1c49a75.js"><link rel="prefetch" href="/assets/js/20.454b46b1.js"><link rel="prefetch" href="/assets/js/21.4f24b7da.js"><link rel="prefetch" href="/assets/js/22.feca24a2.js"><link rel="prefetch" href="/assets/js/23.92ddd439.js"><link rel="prefetch" href="/assets/js/24.7817138b.js"><link rel="prefetch" href="/assets/js/25.ef7e46ba.js"><link rel="prefetch" href="/assets/js/26.5931a183.js"><link rel="prefetch" href="/assets/js/27.5dd0bbd4.js"><link rel="prefetch" href="/assets/js/28.f57124bf.js"><link rel="prefetch" href="/assets/js/29.ace8b766.js"><link rel="prefetch" href="/assets/js/30.7f9a0f82.js"><link rel="prefetch" href="/assets/js/31.54360692.js"><link rel="prefetch" href="/assets/js/32.2089581c.js"><link rel="prefetch" href="/assets/js/33.2237ae8d.js"><link rel="prefetch" href="/assets/js/4.5420925d.js"><link rel="prefetch" href="/assets/js/5.01f921f2.js"><link rel="prefetch" href="/assets/js/6.593aeb2d.js"><link rel="prefetch" href="/assets/js/7.cc14ac71.js"><link rel="prefetch" href="/assets/js/9.6856db68.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.9f78e3e8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7ed32371.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/DDTV.png" alt="DDTV 你的地表最强B站录播机" class="logo"> <span class="site-name can-hide">DDTV 你的地表最强B站录播机</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/install/" class="nav-link">
  安装
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  配置说明
</a></div><div class="nav-item"><a href="/AdvancedFeatures/" class="nav-link">
  进阶功能说明
</a></div><div class="nav-item"><a href="/API/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  API
</a></div><div class="nav-item"><a href="/QFA/" class="nav-link">
  常见问题
</a></div><div class="nav-item"><a href="/CHANGELOG/" class="nav-link">
  更新日志
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于项目
</a></div> <a href="https://github.com/CHKZL/DDTV2" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/install/" class="nav-link">
  安装
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  配置说明
</a></div><div class="nav-item"><a href="/AdvancedFeatures/" class="nav-link">
  进阶功能说明
</a></div><div class="nav-item"><a href="/API/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  API
</a></div><div class="nav-item"><a href="/QFA/" class="nav-link">
  常见问题
</a></div><div class="nav-item"><a href="/CHANGELOG/" class="nav-link">
  更新日志
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于项目
</a></div> <a href="https://github.com/CHKZL/DDTV2" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>API</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/API/" aria-current="page" class="active sidebar-link">DDTV API Doc</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/API/#请求说明" class="sidebar-link">请求说明</a></li><li class="sidebar-sub-header"><a href="/API/#返回内容格式" class="sidebar-link">返回内容格式</a></li><li class="sidebar-sub-header"><a href="/API/#公共变量" class="sidebar-link">公共变量</a></li><li class="sidebar-sub-header"><a href="/API/#已实现的通用api列表" class="sidebar-link">已实现的通用API列表</a></li><li class="sidebar-sub-header"><a href="/API/#已实现的特殊api接口" class="sidebar-link">已实现的特殊API接口</a></li><li class="sidebar-sub-header"><a href="/API/#返回结果状态码列表" class="sidebar-link">返回结果状态码列表</a></li><li class="sidebar-sub-header"><a href="/API/#接口详情" class="sidebar-link">接口详情</a></li></ul></li><li><a href="/API/WebHook.html" class="sidebar-link">Webhook</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ddtv-api-doc"><a href="#ddtv-api-doc" class="header-anchor">#</a> DDTV API Doc</h1> <h2 id="请求说明"><a href="#请求说明" class="header-anchor">#</a> 请求说明</h2> <h3 id="流程图如下"><a href="#流程图如下" class="header-anchor">#</a> 流程图如下:</h3> <img src="/API.png" alt="mixureSecure"> <h3 id="例-api-room-delete接口"><a href="#例-api-room-delete接口" class="header-anchor">#</a> 例:/api/room_delete接口</h3> <blockquote><ul><li>Request:</li></ul> <div class="language-text extra-class"><pre class="language-text"><code>method: POST
path: http://127.0.0.1:11419/api/room_delete
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;form-data&quot;</span><span class="token operator">:</span>
<span class="token punctuation">{</span>
   <span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token number">2345678</span><span class="token punctuation">,</span>
   <span class="token property">&quot;cmd&quot;</span><span class="token operator">:</span><span class="token string">&quot;room_delete&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;sig&quot;</span><span class="token operator">:</span><span class="token string">&quot;2B96810325EB0FE263A91FAA71592033377DF543&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;ver&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
   <span class="token property">&quot;RoomId&quot;</span><span class="token operator">:</span><span class="token number">21706862</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Response:</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
   <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;queue&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
   <span class="token property">&quot;Package&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
       <span class="token punctuation">{</span>
           <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
           <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;删除完成&quot;</span>
       <span class="token punctuation">}</span>
   <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></blockquote> <ul><li>Request内容解释：<br>
计算sig所使用的加密字符串是把所有请求参数拼接，并且加上token值过后，对key进行排序后拼接得到加密字符串<br>
【cmd=room_delete&amp;RoomId=21706862&amp;time=2345678&amp;token=1145141919810A&amp;ver=2】<br>
对该字符串进行SHA1加密全部转换成大写字母后便得到sig值<br>
【2B96810325EB0FE263A91FAA71592033377DF543】</li></ul> <h3 id="注意事项"><a href="#注意事项" class="header-anchor">#</a> 注意事项:</h3> <blockquote><p>加密字符串拼接时公共变量sig不参与<br>
在拼接加密字符串时应加上变量token，但应当注意，token不应当随请求一起提交，仅在本地参与<br>
加密字符串拼接，键值对之间用&amp;分割(如：&quot;code=system_info&amp;time=1234567&quot;)<br>
加密中编码以UTF-8为准<br>
加密得到的sig在发送时转换成大写</p></blockquote> <h2 id="返回内容格式"><a href="#返回内容格式" class="header-anchor">#</a> 返回内容格式</h2> <table><thead><tr><th style="text-align:center;">键名</th> <th style="text-align:center;">格式</th> <th style="text-align:center;">是否会为Null</th> <th>解释</th></tr></thead> <tbody><tr><td style="text-align:center;">result</td> <td style="text-align:center;">int</td> <td style="text-align:center;">否</td> <td>鉴权的结果</td></tr> <tr><td style="text-align:center;">code</td> <td style="text-align:center;">int</td> <td style="text-align:center;">否</td> <td>请求返回的状态码(具体内容参照<a href="">返回结果状态码列表</a></td></tr> <tr><td style="text-align:center;">messge</td> <td style="text-align:center;">string</td> <td style="text-align:center;">否</td> <td>关于请求结果的说明文字内容</td></tr> <tr><td style="text-align:center;">queue</td> <td style="text-align:center;">int</td> <td style="text-align:center;">否</td> <td>Package的List长度</td></tr> <tr><td style="text-align:center;">Package</td> <td style="text-align:center;">List&lt;T&gt;</td> <td style="text-align:center;">是</td> <td>返回的接口具体内容，如果鉴权失败或者本身列表为空则是Null</td></tr></tbody></table> <h2 id="公共变量"><a href="#公共变量" class="header-anchor">#</a> 公共变量</h2> <table><thead><tr><th style="text-align:center;">参数名</th> <th style="text-align:center;">格式</th> <th style="text-align:center;">是否必须</th> <th>解释</th></tr></thead> <tbody><tr><td style="text-align:center;">time</td> <td style="text-align:center;">int</td> <td style="text-align:center;">是</td> <td>请求发出时的UTC时间戳，单位为秒，和服务器时间300秒以内的为有效请求(如:1626508097)</td></tr> <tr><td style="text-align:center;">cmd</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td>请求的API接口的接口名称(如:system_info)</td></tr> <tr><td style="text-align:center;">sig</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td>其他变量排序后按照规则拼接过后使用SHA1散列后得到的签名</td></tr> <tr><td style="text-align:center;">ver</td> <td style="text-align:center;">int</td> <td style="text-align:center;">是</td> <td>接口的版本类型，当前只开放2。(1为DDTV服务端内部使用的WEB接口，规则不同)</td></tr></tbody></table> <h2 id="已实现的通用api列表"><a href="#已实现的通用api列表" class="header-anchor">#</a> 已实现的通用API列表</h2> <table><thead><tr><th style="text-align:center;">方式</th> <th style="text-align:center;">名称</th> <th style="text-align:center;">返回内容</th> <th style="text-align:center;">解释</th> <th style="text-align:center;">私有变量数量</th></tr></thead> <tbody><tr><td style="text-align:center;">POST</td> <td style="text-align:center;">system_info</td> <td style="text-align:center;">JSON</td> <td style="text-align:center;"><a href="/API/#post-api-system-info">获取系统运行情况</a></td> <td style="text-align:center;">0</td></tr> <tr><td style="text-align:center;">POST</td> <td style="text-align:center;">system_config</td> <td style="text-align:center;">JSON</td> <td style="text-align:center;"><a href="/API/#post-api-system-config">查看当前配置文件</a></td> <td style="text-align:center;">0</td></tr> <tr><td style="text-align:center;">POST</td> <td style="text-align:center;">system_update</td> <td style="text-align:center;">JSON</td> <td style="text-align:center;"><a href="/API/##post-api-system-update">检查更新</a></td> <td style="text-align:center;">0</td></tr> <tr><td style="text-align:center;">POST</td> <td style="text-align:center;">system_log</td> <td style="text-align:center;">JSON</td> <td style="text-align:center;"><a href="/API/#post-api-system-log">获取系统运行日志</a></td> <td style="text-align:center;">0</td></tr> <tr><td style="text-align:center;">POST</td> <td style="text-align:center;">rec_processing_list</td> <td style="text-align:center;">JSON</td> <td style="text-align:center;"><a href="/API/#post-api-rec-processing-list">获取当前录制中的队列简报</a></td> <td style="text-align:center;">0</td></tr> <tr><td style="text-align:center;">POST</td> <td style="text-align:center;">rec_all_list</td> <td style="text-align:center;">JSON</td> <td style="text-align:center;"><a href="/API/#post-api-rec_all-list">获取所有下载任务的队列简报</a></td> <td style="text-align:center;">0</td></tr> <tr><td style="text-align:center;">POST</td> <td style="text-align:center;">rec_info</td> <td style="text-align:center;">JSON</td> <td style="text-align:center;"><a href="/API/#post-api-rec-info">根据录制任务GUID获取任务详情</a></td> <td style="text-align:center;">1</td></tr> <tr><td style="text-align:center;">POST</td> <td style="text-align:center;">rec_cancel</td> <td style="text-align:center;">JSON</td> <td style="text-align:center;"><a href="/API/#post-api-rec-cancel">根据录制任务GUID取消相应任务</a></td> <td style="text-align:center;">2</td></tr> <tr><td style="text-align:center;">POST</td> <td style="text-align:center;">room_add</td> <td style="text-align:center;">JSON</td> <td style="text-align:center;"><a href="/API/#post-api-room-add">增加配置文件中监听的房间</a></td> <td style="text-align:center;">4</td></tr> <tr><td style="text-align:center;">POST</td> <td style="text-align:center;">room_delete</td> <td style="text-align:center;">JSON</td> <td style="text-align:center;"><a href="/API/#post-api-room-delete">删除配置文件中监听的房间</a></td> <td style="text-align:center;">1</td></tr> <tr><td style="text-align:center;">POST</td> <td style="text-align:center;">room_status</td> <td style="text-align:center;">JSON</td> <td style="text-align:center;"><a href="/API/#post-api-room-status">修改房间的自动录制开关配置</a></td> <td style="text-align:center;">2</td></tr> <tr><td style="text-align:center;">POST</td> <td style="text-align:center;">room_list</td> <td style="text-align:center;">JSON</td> <td style="text-align:center;"><a href="/API/#post-api-room_list">获取当前房间配置列表总览</a></td> <td style="text-align:center;">0</td></tr> <tr><td style="text-align:center;">POST</td> <td style="text-align:center;">file_lists</td> <td style="text-align:center;">JSON</td> <td style="text-align:center;"><a href="/API/#post-api-file-lists">获取当前录制文件夹中的所有文件的列表</a></td> <td style="text-align:center;">0</td></tr> <tr><td style="text-align:center;">POST</td> <td style="text-align:center;">file_delete</td> <td style="text-align:center;">JSON</td> <td style="text-align:center;"><a href="/API/#post-api-file-delete">删除某个录制完成的文件</a></td> <td style="text-align:center;">3</td></tr> <tr><td style="text-align:center;">POST</td> <td style="text-align:center;">file_range</td> <td style="text-align:center;">JSON</td> <td style="text-align:center;"><a href="/API/#post-api-file-range">根据房间号获得相关录制文件</a></td> <td style="text-align:center;">1</td></tr> <tr><td style="text-align:center;">POST</td> <td style="text-align:center;">upload_list</td> <td style="text-align:center;">JSON</td> <td style="text-align:center;"><a href="/API/#post-api-upload-list">获取上传任务信息列表</a></td> <td style="text-align:center;">0</td></tr></tbody></table> <h2 id="已实现的特殊api接口"><a href="#已实现的特殊api接口" class="header-anchor">#</a> 已实现的特殊API接口</h2> <table><thead><tr><th style="text-align:center;">方式</th> <th style="text-align:center;">名称</th> <th style="text-align:center;">返回内容</th> <th style="text-align:center;">解释</th> <th style="text-align:center;">私有变量数量</th></tr></thead> <tbody><tr><td style="text-align:center;">GET</td> <td style="text-align:center;">file_steam</td> <td style="text-align:center;">Flie</td> <td style="text-align:center;"><a href="/API/#get-file-path">获取播放文件</a></td> <td style="text-align:center;">2</td></tr></tbody></table> <h2 id="返回结果状态码列表"><a href="#返回结果状态码列表" class="header-anchor">#</a> 返回结果状态码列表</h2> <table><thead><tr><th style="text-align:center;">值</th> <th style="text-align:center;">含义</th></tr></thead> <tbody><tr><td style="text-align:center;">-1</td> <td style="text-align:center;">请求错误</td></tr> <tr><td style="text-align:center;">1001</td> <td style="text-align:center;">请求成功</td></tr> <tr><td style="text-align:center;">1002</td> <td style="text-align:center;">鉴权失败</td></tr></tbody></table> <h2 id="接口详情"><a href="#接口详情" class="header-anchor">#</a> 接口详情</h2> <h3 id="post-api-system-info"><a href="#post-api-system-info" class="header-anchor">#</a> <code>POST /api/system_info</code></h3> <details class="custom-block details"><summary>获取系统运行情况</summary> <ul><li>私有变量</li></ul> <p>无</p> <ul><li>Request:</li></ul> <div class="language-text extra-class"><pre class="language-text"><code>method: POST
path: http://127.0.0.1:11419/api/system_info
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;form-data&quot;</span><span class="token operator">:</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token number">2345678</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cmd&quot;</span><span class="token operator">:</span><span class="token string">&quot;system_info&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sig&quot;</span><span class="token operator">:</span><span class="token string">&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;var&quot;</span><span class="token operator">:</span><span class="token number">2</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Response:</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;queue&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Package&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;DDTVCore_Ver&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0.5.1d&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Room_Quantity&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;OS_Info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;OS_Ver&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Linux 5.4.0-74-generic #83-Ubuntu SMP Sat May 8 02:35:39 UTC 2021&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;OS_Tpye&quot;</span><span class="token operator">:</span> <span class="token string">&quot;X64&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;Memory_Usage&quot;</span><span class="token operator">:</span> <span class="token number">155086848</span><span class="token punctuation">,</span>
                <span class="token property">&quot;Runtime_Ver&quot;</span><span class="token operator">:</span> <span class="token string">&quot;X64&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;UserInteractive&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token property">&quot;Associated_Users&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ddtv&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;Current_Directory&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\\home\\ubuntu\\ddtv_S&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;AppCore_Ver&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.NET 5.0.8&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;WebCore_Ver&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5.0.8&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Download_Info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;Downloading&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;Completed_Downloads&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Ver_Info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;IsNewVer&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;NewVer&quot;</span><span class="token operator">:</span><span class="token null keyword">null</span><span class="token punctuation">,</span>
                <span class="token property">&quot;Update_Log&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <h3 id="post-api-system-config"><a href="#post-api-system-config" class="header-anchor">#</a> <code>POST /api/system_config</code></h3> <details class="custom-block details"><summary>查看当前配置文件</summary> <ul><li>私有变量</li></ul> <p>无</p> <ul><li>Request:</li></ul> <div class="language-text extra-class"><pre class="language-text"><code>method: POST
path: http://127.0.0.1:11419/api/system_config
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;form-data&quot;</span><span class="token operator">:</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token number">2345678</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cmd&quot;</span><span class="token operator">:</span><span class="token string">&quot;system_config&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sig&quot;</span><span class="token operator">:</span><span class="token string">&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;var&quot;</span><span class="token operator">:</span><span class="token number">2</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Response:</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;queue&quot;</span><span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Package&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;file&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./tmp/&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Livefile&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./tmp/LiveCache/&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;DANMU&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PlayWindowHeight&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;440&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PlayWindowWidth&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;720&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;YouTubeResolution&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;640x360&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RoomConfiguration&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./RoomListConfig.json&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        .....................
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <h3 id="post-api-system-update"><a href="#post-api-system-update" class="header-anchor">#</a> <code>POST /api/system_update</code></h3> <details class="custom-block details"><summary>检查有无更新</summary> <ul><li>私有变量</li></ul> <p>无</p> <ul><li>Request:</li></ul> <div class="language-text extra-class"><pre class="language-text"><code>method: POST
path: http://127.0.0.1:11419/api/system_update
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;form-data&quot;</span><span class="token operator">:</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token number">2345678</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cmd&quot;</span><span class="token operator">:</span><span class="token string">&quot;system_update&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sig&quot;</span><span class="token operator">:</span><span class="token string">&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;var&quot;</span><span class="token operator">:</span><span class="token number">2</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Response:</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;queue&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Package&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
       <span class="token punctuation">{</span>
           <span class="token property">&quot;IsNewVer&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
           <span class="token property">&quot;NewVer&quot;</span><span class="token operator">:</span><span class="token null keyword">null</span><span class="token punctuation">,</span>
           <span class="token property">&quot;Update_Log&quot;</span><span class="token operator">:</span><span class="token null keyword">null</span>
       <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <h3 id="post-api-system-log"><a href="#post-api-system-log" class="header-anchor">#</a> <code>POST /api/system_log</code></h3> <details class="custom-block details"><summary>获取系统运行日志</summary> <ul><li>私有变量</li></ul> <p>无</p> <ul><li>Request:</li></ul> <div class="language-text extra-class"><pre class="language-text"><code>method: POST
path: http://127.0.0.1:11419/api/system_log
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;form-data&quot;</span><span class="token operator">:</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token number">2345678</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cmd&quot;</span><span class="token operator">:</span><span class="token string">&quot;system_log&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sig&quot;</span><span class="token operator">:</span><span class="token string">&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;var&quot;</span><span class="token operator">:</span><span class="token number">2</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Response:</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;queue&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Package&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
       <span class="token punctuation">{</span>
           <span class="token property">&quot;Time&quot;</span><span class="token operator">:</span><span class="token number">2021</span><span class="token number">-07</span><span class="token number">-27</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">15</span><span class="token punctuation">,</span>
           <span class="token property">&quot;Type&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
           <span class="token property">&quot;LogMsg&quot;</span><span class="token operator">:</span><span class="token string">&quot;log测试信息1，这是一条系统错误信息信息&quot;</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span>
       <span class="token punctuation">{</span>
           <span class="token property">&quot;Time&quot;</span><span class="token operator">:</span><span class="token number">2021</span><span class="token number">-07</span><span class="token number">-27</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">15</span><span class="token punctuation">,</span>
           <span class="token property">&quot;Type&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
           <span class="token property">&quot;LogMsg&quot;</span><span class="token operator">:</span><span class="token string">&quot;log测试信息2，这是一条DEbug消息&quot;</span>
       <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>logType枚举信息</li></ul> <div class="language-C# extra-class"><pre class="language-text"><code>public enum InfoClass
        {
            Debug = 0,
            系统错误信息 = 1,
            进程一般信息 = 2,
            下载系统信息 = 3,
            系统一般信息 = 4,
            上传系统信息 = 5,
            系统强制信息=6,
        }
</code></pre></div></details> <h3 id="post-api-rec-processing-list"><a href="#post-api-rec-processing-list" class="header-anchor">#</a> <code>POST /api/rec_processing_list</code></h3> <details class="custom-block details"><summary>获取当前录制中的队列简报</summary> <ul><li>私有变量</li></ul> <p>无</p> <ul><li>Request:</li></ul> <div class="language-text extra-class"><pre class="language-text"><code>method: POST
path: http://127.0.0.1:11419/api/rec_processing_list
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;form-data&quot;</span><span class="token operator">:</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token number">2345678</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cmd&quot;</span><span class="token operator">:</span><span class="token string">&quot;rec_processing_list&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sig&quot;</span><span class="token operator">:</span><span class="token string">&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;var&quot;</span><span class="token operator">:</span><span class="token number">2</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Response:</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;queue&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Package&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;RoomId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;21706862&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Downloaded_bit&quot;</span><span class="token operator">:</span> <span class="token number">1346472247</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Downloaded_str&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.254G&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;七咔拉CHikalar&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;StartTime&quot;</span><span class="token operator">:</span> <span class="token number">1626783169</span><span class="token punctuation">,</span>
            <span class="token property">&quot;EndTime&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;GUID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fb7f502e-64ff-411b-9d55-d9f974751616&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <h3 id="post-api-rec-all-list"><a href="#post-api-rec-all-list" class="header-anchor">#</a> <code>POST /api/rec_all_list</code></h3> <details class="custom-block details"><summary>获取所有下载任务的队列简报</summary> <ul><li>私有变量</li></ul> <p>无</p> <ul><li>Request:</li></ul> <div class="language-text extra-class"><pre class="language-text"><code>method: POST
path: http://127.0.0.1:11419/api/rec_all_list
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;form-data&quot;</span><span class="token operator">:</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token number">2345678</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cmd&quot;</span><span class="token operator">:</span><span class="token string">&quot;rec_all_list&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sig&quot;</span><span class="token operator">:</span><span class="token string">&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;var&quot;</span><span class="token operator">:</span><span class="token number">2</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Response:</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;queue&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Package&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;RoomId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;21706862&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Downloaded_bit&quot;</span><span class="token operator">:</span> <span class="token number">1346472247</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Downloaded_str&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.254G&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;七咔拉CHikalar&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;StartTime&quot;</span><span class="token operator">:</span> <span class="token number">1626783169</span><span class="token punctuation">,</span>
            <span class="token property">&quot;EndTime&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;GUID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fb7f502e-64ff-411b-9d55-d9f974751616&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <h3 id="post-api-rec-info"><a href="#post-api-rec-info" class="header-anchor">#</a> <code>POST /api/rec_info</code></h3> <details class="custom-block details"><summary>根据录制任务GUID获取任务详情</summary> <ul><li>私有变量</li></ul> <table><thead><tr><th style="text-align:center;">参数名</th> <th style="text-align:center;">格式</th> <th style="text-align:center;">是否必须</th> <th>解释</th></tr></thead> <tbody><tr><td style="text-align:center;">GUID</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td>任务的GUID值，可通过rec_processing_list和rec_all_list接口获得</td></tr></tbody></table> <ul><li>Request:</li></ul> <div class="language-text extra-class"><pre class="language-text"><code>method: POST
path: http://127.0.0.1:11419/api/rec_info
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;form-data&quot;</span><span class="token operator">:</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token number">2345678</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cmd&quot;</span><span class="token operator">:</span><span class="token string">&quot;rec_info&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sig&quot;</span><span class="token operator">:</span><span class="token string">&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;var&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;GUID&quot;</span><span class="token operator">:</span><span class="token string">&quot;a38c4f1c-18a8-454c-ad22-dc1deb612c12&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Response:</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;queue&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Package&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;阿B直播流对象&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;m_innerRts&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
                <span class="token property">&quot;startIn&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;wss_S&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;弹幕储存流&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
            <span class="token property">&quot;礼物储存流&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
            <span class="token property">&quot;弹幕录制基准时间&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-07-20T11:47:45.5530392+08:00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;WC&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
            <span class="token property">&quot;下载状态&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">&quot;最后连接时间&quot;</span><span class="token operator">:</span> <span class="token number">1626781716</span><span class="token punctuation">,</span>
            <span class="token property">&quot;网络超时&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token property">&quot;已下载大小bit&quot;</span><span class="token operator">:</span> <span class="token number">39291289.0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;已下载大小str&quot;</span><span class="token operator">:</span> <span class="token string">&quot;37.47MB&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;文件保存路径&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./tmp/bilibili_七咔拉CHikalar_21706862/【早安还债】土豆子还债中_20210720114745552.flv&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;事件GUID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a38c4f1c-18a8-454c-ad22-dc1deb612c12&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;备注&quot;</span><span class="token operator">:</span> <span class="token string">&quot;自动录制&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;开始时间&quot;</span><span class="token operator">:</span> <span class="token number">1626781671</span><span class="token punctuation">,</span>
            <span class="token property">&quot;结束时间&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;房间_频道号&quot;</span><span class="token operator">:</span> <span class="token string">&quot;21706862&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;平台&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bilibili&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;是否保存&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">&quot;下载地址&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://d1--cn-gotcha04.bilivideo.com/live-bvc/969914/live_484660274_78967043.flv?cdn=cn-gotcha04&amp;expires=1626756463&amp;len=0&amp;oi=605583931&amp;pt=web&amp;qn=10000&amp;trid=1000319df535301044089db508e00ea733ba&amp;sigparams=cdn,expires,len,oi,pt,qn,trid&amp;sign=e3dc89e76b8d8ff58db1fee4c7abd83a&amp;ptype=0&amp;src=9&amp;sl=2&amp;sk=417e709c171a500&amp;order=1&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;标题&quot;</span><span class="token operator">:</span> <span class="token string">&quot;【早安还债】土豆子还债中&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;播放状态&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token property">&quot;是否是播放任务&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token property">&quot;重连文件路径&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
            <span class="token property">&quot;主播名称&quot;</span><span class="token operator">:</span> <span class="token string">&quot;七咔拉CHikalar&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;继承&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;是否为继承对象&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;待合并文件列表&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token property">&quot;继承的下载文件路径&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
                <span class="token property">&quot;合并后的文件路径&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;是否是固定视频&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <h3 id="post-api-rec-cancel"><a href="#post-api-rec-cancel" class="header-anchor">#</a> <code>POST /api/rec_cancel</code></h3> <details class="custom-block details"><summary>根据录制任务GUID取消相应任务</summary> <ul><li>私有变量</li></ul> <table><thead><tr><th style="text-align:center;">参数名</th> <th style="text-align:center;">格式</th> <th style="text-align:center;">是否必须</th> <th>解释</th></tr></thead> <tbody><tr><td style="text-align:center;">GUID</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td>任务的GUID值，可通过rec_processing_list和rec_all_list接口获得</td></tr> <tr><td style="text-align:center;">RoomId</td> <td style="text-align:center;">int</td> <td style="text-align:center;">是</td> <td>该任务所属的房间号</td></tr></tbody></table> <ul><li>Request:</li></ul> <div class="language-text extra-class"><pre class="language-text"><code>method: POST
path: http://127.0.0.1:11419/api/rec_cancel
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;form-data&quot;</span><span class="token operator">:</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token number">2345678</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cmd&quot;</span><span class="token operator">:</span><span class="token string">&quot;rec_cancel&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sig&quot;</span><span class="token operator">:</span><span class="token string">&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;var&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;GUID&quot;</span><span class="token operator">:</span><span class="token string">&quot;fb7f502e-64ff-411b-9d55-d9f974751616&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;RoomId&quot;</span><span class="token operator">:</span><span class="token number">21706862</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Response:</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;删除成功&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;queue&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Package&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;阿B直播流对象&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;m_innerRts&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
                <span class="token property">&quot;startIn&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;wss_S&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;弹幕储存流&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
            <span class="token property">&quot;礼物储存流&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
            <span class="token property">&quot;弹幕录制基准时间&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-07-20T12:12:48.9372528+08:00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;WC&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
            <span class="token property">&quot;下载状态&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token property">&quot;最后连接时间&quot;</span><span class="token operator">:</span> <span class="token number">1626783195</span><span class="token punctuation">,</span>
            <span class="token property">&quot;网络超时&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token property">&quot;已下载大小bit&quot;</span><span class="token operator">:</span> <span class="token number">8644969.0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;已下载大小str&quot;</span><span class="token operator">:</span> <span class="token string">&quot;8.24MB&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;文件保存路径&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./tmp/bilibili_七咔拉CHikalar_21706862/【早安还债】土豆子还债中_20210720121248923.flv&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;事件GUID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fb7f502e-64ff-411b-9d55-d9f974751616&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;备注&quot;</span><span class="token operator">:</span> <span class="token string">&quot;用户取消下载&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;开始时间&quot;</span><span class="token operator">:</span> <span class="token number">1626783175</span><span class="token punctuation">,</span>
            <span class="token property">&quot;结束时间&quot;</span><span class="token operator">:</span> <span class="token number">1626783195</span><span class="token punctuation">,</span>
            <span class="token property">&quot;房间_频道号&quot;</span><span class="token operator">:</span> <span class="token string">&quot;21706862&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;平台&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bilibili&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;是否保存&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">&quot;下载地址&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://d1--cn-gotcha04.bilivideo.com/live-bvc/479757/live_484660274_78967043.flv?cdn=cn-gotcha04&amp;expires=1626757967&amp;len=0&amp;oi=605583931&amp;pt=web&amp;qn=10000&amp;trid=1000b282f342323a46f7929767548ec2afa4&amp;sigparams=cdn,expires,len,oi,pt,qn,trid&amp;sign=955cc6c61a565b456c747880e031f33c&amp;ptype=0&amp;src=9&amp;sl=2&amp;sk=417e709c171a500&amp;order=1&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;标题&quot;</span><span class="token operator">:</span> <span class="token string">&quot;【早安还债】土豆子还债中&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;播放状态&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token property">&quot;是否是播放任务&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token property">&quot;重连文件路径&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
            <span class="token property">&quot;主播名称&quot;</span><span class="token operator">:</span> <span class="token string">&quot;七咔拉CHikalar&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;继承&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;是否为继承对象&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token property">&quot;待合并文件列表&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token property">&quot;继承的下载文件路径&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
                <span class="token property">&quot;合并后的文件路径&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;是否是固定视频&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <h3 id="post-api-room-add"><a href="#post-api-room-add" class="header-anchor">#</a> <code>POST /api/room_add</code></h3> <details class="custom-block details"><summary>增加配置文件中监听的房间</summary> <ul><li>私有变量</li></ul> <table><thead><tr><th style="text-align:center;">参数名</th> <th style="text-align:center;">格式</th> <th style="text-align:center;">是否必须</th> <th>解释</th></tr></thead> <tbody><tr><td style="text-align:center;">RoomId</td> <td style="text-align:center;">int</td> <td style="text-align:center;">是</td> <td>房间号</td></tr> <tr><td style="text-align:center;">Name</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td>本地化(翻译)的名字</td></tr> <tr><td style="text-align:center;">OfficialName</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td>官方原文名称</td></tr> <tr><td style="text-align:center;">RecStatus</td> <td style="text-align:center;">bool</td> <td style="text-align:center;">是</td> <td>是否打开开播自动录制</td></tr></tbody></table> <ul><li>Request:</li></ul> <div class="language-text extra-class"><pre class="language-text"><code>method: POST
path: http://127.0.0.1:11419/api/room_add
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;form-data&quot;</span><span class="token operator">:</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token number">2345678</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cmd&quot;</span><span class="token operator">:</span><span class="token string">&quot;room_add&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sig&quot;</span><span class="token operator">:</span><span class="token string">&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;var&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;RoomId&quot;</span><span class="token operator">:</span><span class="token number">21706862</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;七咔拉CHikalar&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;OfficialName&quot;</span><span class="token operator">:</span><span class="token string">&quot;七咔拉CHikalar&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;RecStatus&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Response:</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;queue&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Package&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;七咔拉CHikalar[21706862]添加完成&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <h3 id="post-api-room-delete"><a href="#post-api-room-delete" class="header-anchor">#</a> <code>POST /api/room_delete</code></h3> <details class="custom-block details"><summary>删除配置文件中监听的房间</summary> <ul><li>私有变量</li></ul> <table><thead><tr><th style="text-align:center;">参数名</th> <th style="text-align:center;">格式</th> <th style="text-align:center;">是否必须</th> <th>解释</th></tr></thead> <tbody><tr><td style="text-align:center;">RoomId</td> <td style="text-align:center;">int</td> <td style="text-align:center;">是</td> <td>配置文件中的房间号</td></tr></tbody></table> <ul><li>Request:</li></ul> <div class="language-text extra-class"><pre class="language-text"><code>method: POST
path: http://127.0.0.1:11419/api/room_delete
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;form-data&quot;</span><span class="token operator">:</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token number">2345678</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cmd&quot;</span><span class="token operator">:</span><span class="token string">&quot;room_delete&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sig&quot;</span><span class="token operator">:</span><span class="token string">&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;var&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;RoomId&quot;</span><span class="token operator">:</span><span class="token number">21706862</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Response:</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;queue&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Package&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;删除完成&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <h3 id="post-api-room-status"><a href="#post-api-room-status" class="header-anchor">#</a> <code>POST /api/room_status</code></h3> <details class="custom-block details"><summary>修改房间的自动录制开关配置</summary> <ul><li>私有变量</li></ul> <table><thead><tr><th style="text-align:center;">参数名</th> <th style="text-align:center;">格式</th> <th style="text-align:center;">是否必须</th> <th>解释</th></tr></thead> <tbody><tr><td style="text-align:center;">RoomId</td> <td style="text-align:center;">int</td> <td style="text-align:center;">是</td> <td>房间号</td></tr> <tr><td style="text-align:center;">RecStatus</td> <td style="text-align:center;">bool</td> <td style="text-align:center;">是</td> <td>是否打开开播自动录制</td></tr></tbody></table> <ul><li>Request:</li></ul> <div class="language-text extra-class"><pre class="language-text"><code>method: POST
path: http://127.0.0.1:11419/api/room_status
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;form-data&quot;</span><span class="token operator">:</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token number">2345678</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cmd&quot;</span><span class="token operator">:</span><span class="token string">&quot;room_status&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sig&quot;</span><span class="token operator">:</span><span class="token string">&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;var&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;RoomId&quot;</span><span class="token operator">:</span><span class="token number">21706862</span><span class="token punctuation">,</span>
    <span class="token property">&quot;RecStatus&quot;</span><span class="token operator">:</span><span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Response:</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;queue&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Package&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;修改设置完成&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <h3 id="post-api-room-list"><a href="#post-api-room-list" class="header-anchor">#</a> <code>POST /api/room_list</code></h3> <details class="custom-block details"><summary>获取当前房间配置列表总览</summary> <ul><li>私有变量</li></ul> <p>无</p> <ul><li>Request:</li></ul> <div class="language-text extra-class"><pre class="language-text"><code>method: POST
path: http://127.0.0.1:11419/api/room_list
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;form-data&quot;</span><span class="token operator">:</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token number">2345678</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cmd&quot;</span><span class="token operator">:</span><span class="token string">&quot;room_list&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sig&quot;</span><span class="token operator">:</span><span class="token string">&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;var&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Response:</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;queue&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Package&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;名称&quot;</span><span class="token operator">:</span> <span class="token string">&quot;七咔拉CHikalar&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;原名&quot;</span><span class="token operator">:</span> <span class="token string">&quot;七咔拉CHikalar&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;直播状态&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token property">&quot;平台&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bilibili&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;是否提醒&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token property">&quot;是否录制&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token property">&quot;唯一码&quot;</span><span class="token operator">:</span> <span class="token string">&quot;21706862&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <h3 id="post-api-file-lists"><a href="#post-api-file-lists" class="header-anchor">#</a> <code>POST /api/file_lists</code></h3> <details class="custom-block details"><summary>获取当前录制文件夹中的所有文件的列表</summary> <ul><li>私有变量</li></ul> <p>无</p> <ul><li>Request:</li></ul> <div class="language-text extra-class"><pre class="language-text"><code>method: POST
path: http://127.0.0.1:11419/api/file_lists
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;form-data&quot;</span><span class="token operator">:</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token number">2345678</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cmd&quot;</span><span class="token operator">:</span><span class="token string">&quot;file_lists&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sig&quot;</span><span class="token operator">:</span><span class="token string">&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;var&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Response:</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;queue&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Package&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Size&quot;</span><span class="token operator">:</span> <span class="token number">151728128</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;【早安还债】土豆子还债中_20210720111734878.flv&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Directory&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bilibili_七咔拉CHikalar_21706862&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./tmp/bilibili_七咔拉CHikalar_21706862/【早安还债】土豆子还债中_20210720111734878.flv&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;ModifiedTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-07-20T11:17:40.0501024+08:00&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Size&quot;</span><span class="token operator">:</span> <span class="token number">13717504</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;【早安还债】土豆子还债中_20210720112241897.flv&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Directory&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bilibili_七咔拉CHikalar_21706862&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./tmp/bilibili_七咔拉CHikalar_21706862/【早安还债】土豆子还债中_20210720112241897.flv&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;ModifiedTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-07-20T11:22:47.150608+08:00&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Size&quot;</span><span class="token operator">:</span> <span class="token number">6270976</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;【早安还债】土豆子还债中_20210720112652317.flv&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Directory&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bilibili_七咔拉CHikalar_21706862&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./tmp/bilibili_七咔拉CHikalar_21706862/【早安还债】土豆子还债中_20210720112652317.flv&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;ModifiedTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-07-20T11:26:57.770125+08:00&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <h3 id="post-api-file-delete"><a href="#post-api-file-delete" class="header-anchor">#</a> <code>POST /api/file_delete</code></h3> <details class="custom-block details"><summary>删除某个录制完成的文件</summary> <ul><li>私有变量</li></ul> <table><thead><tr><th style="text-align:center;">参数名</th> <th style="text-align:center;">格式</th> <th style="text-align:center;">是否必须</th> <th>解释</th></tr></thead> <tbody><tr><td style="text-align:center;">RoomId</td> <td style="text-align:center;">int</td> <td style="text-align:center;">是</td> <td>配置文件中的房间号</td></tr> <tr><td style="text-align:center;">Directory</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td>所在的文件夹名称</td></tr> <tr><td style="text-align:center;">Name</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td>要删除的文件名</td></tr></tbody></table> <ul><li>Request:</li></ul> <div class="language-text extra-class"><pre class="language-text"><code>method: POST
path: http://127.0.0.1:11419/api/file_delete
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;form-data&quot;</span><span class="token operator">:</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token number">2345678</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cmd&quot;</span><span class="token operator">:</span><span class="token string">&quot;file_delete&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sig&quot;</span><span class="token operator">:</span><span class="token string">&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;var&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;RoomId&quot;</span><span class="token operator">:</span><span class="token string">&quot;21706862&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Directory&quot;</span><span class="token operator">:</span><span class="token string">&quot;bilibili_七咔拉CHikalar_21706862&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;【早安还债】土豆子还债中_20210720112652317.flv&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Response:</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;queue&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Package&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;文件已提加入删除委托列表，等待文件锁解锁后自动删除&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <h3 id="post-api-file-range"><a href="#post-api-file-range" class="header-anchor">#</a> <code>POST /api/file_range</code></h3> <details class="custom-block details"><summary>根据房间号获得相关录制文件</summary> <ul><li>私有变量</li></ul> <table><thead><tr><th style="text-align:center;">参数名</th> <th style="text-align:center;">格式</th> <th style="text-align:center;">是否必须</th> <th>解释</th></tr></thead> <tbody><tr><td style="text-align:center;">RoomId</td> <td style="text-align:center;">int</td> <td style="text-align:center;">是</td> <td>房间号</td></tr></tbody></table> <ul><li>Request:</li></ul> <div class="language-text extra-class"><pre class="language-text"><code>method: POST
path: http://127.0.0.1:11419/api/file_range
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;form-data&quot;</span><span class="token operator">:</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token number">2345678</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cmd&quot;</span><span class="token operator">:</span><span class="token string">&quot;file_range&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sig&quot;</span><span class="token operator">:</span><span class="token string">&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;var&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;RoomId&quot;</span><span class="token operator">:</span><span class="token string">&quot;21706862&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Response:</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;queue&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Package&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Size&quot;</span><span class="token operator">:</span> <span class="token number">151728128</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;【早安还债】土豆子还债中_20210720111734878.flv&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Directory&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bilibili_七咔拉CHikalar_21706862&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./tmp/bilibili_七咔拉CHikalar_21706862/【早安还债】土豆子还债中_20210720111734878.flv&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;ModifiedTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-07-20T11:17:40.0501024+08:00&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Size&quot;</span><span class="token operator">:</span> <span class="token number">13717504</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;【早安还债】土豆子还债中_20210720112241897.flv&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Directory&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bilibili_七咔拉CHikalar_21706862&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./tmp/bilibili_七咔拉CHikalar_21706862/【早安还债】土豆子还债中_20210720112241897.flv&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;ModifiedTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-07-20T11:22:47.150608+08:00&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Size&quot;</span><span class="token operator">:</span> <span class="token number">6270976</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;【早安还债】土豆子还债中_20210720112652317.flv&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Directory&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bilibili_七咔拉CHikalar_21706862&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./tmp/bilibili_七咔拉CHikalar_21706862/【早安还债】土豆子还债中_20210720112652317.flv&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;ModifiedTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-07-20T11:26:57.770125+08:00&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <h3 id="post-api-upload-list"><a href="#post-api-upload-list" class="header-anchor">#</a> <code>POST /api/upload_list</code></h3> <details class="custom-block details"><summary>获取上传任务信息列表</summary> <ul><li>私有变量</li></ul> <p>无</p> <ul><li>Request:</li></ul> <div class="language-text extra-class"><pre class="language-text"><code>method: POST
path: http://127.0.0.1:11419/api/upload_list
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;form-data&quot;</span><span class="token operator">:</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token number">2345678</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cmd&quot;</span><span class="token operator">:</span><span class="token string">&quot;upload_list&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sig&quot;</span><span class="token operator">:</span><span class="token string">&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;var&quot;</span><span class="token operator">:</span><span class="token number">2</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Response:</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;成功&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;queue&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Package&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token comment">//根据实际情况自行解析即可</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <h3 id="get-file-path"><a href="#get-file-path" class="header-anchor">#</a> <code>GET /$file_path$</code></h3> <details class="custom-block details"><summary>获取播放文件</summary> <ul><li>私有变量</li></ul> <table><thead><tr><th style="text-align:center;">参数名</th> <th style="text-align:center;">格式</th> <th style="text-align:center;">是否必须</th> <th>解释</th></tr></thead> <tbody><tr><td style="text-align:center;">Directory</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td>录制文件夹名称</td></tr> <tr><td style="text-align:center;">File</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td>媒体文件名称</td></tr></tbody></table> <ul><li>Request:</li></ul> <div class="language-text extra-class"><pre class="language-text"><code>method: GET
path: http://127.0.0.1:11419/tmp/bilibili_蒂蒂媞薇_21446992/测试直播.mp4?time=2345678&amp;amp;cmd=file_steam&amp;amp;sig=xxxxxxxxxxx&amp;amp;var=2&amp;amp;Directory=bilibili_蒂蒂媞薇_21446992&amp;amp;File=测试直播.mp4
</code></pre></div><ul><li>Response:</li></ul> <div class="language-C# extra-class"><pre class="language-text"><code>File
</code></pre></div></details></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/CHKZL/DDTV2/edit/dev/docs/API/README.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/API/WebHook.html">
        Webhook
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.38557d80.js" defer></script><script src="/assets/js/3.0296fe51.js" defer></script><script src="/assets/js/8.c5ecf089.js" defer></script>
  </body>
</html>
