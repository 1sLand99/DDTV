# 时间轴修复
:::tip 提示
时间轴修复功能为DDTV Core的核心预设功能，是通过下载过程中的代码实现的，不需要单独设置
:::
## 时间轴错误产生的原因
时间轴错误的根本原因是由于推流方的网络卡顿或断线重连导致的时间戳重置，重置后的时间戳跟在正常的时间戳后面，当播放器解析时间戳时不会检测到被重置的时间戳，这个时候文件就会错误。
  
## DDTV的处理方法
DDTV的实现逻辑是只要检测到断流或者卡顿，会直接放弃本次连接，保存现场，马上新建重连进行续录，所以单体flv文件的时间戳肯定是正确的。  
然后当录制完成后，会自动调用文件合并功能，把文件流进行合并处理，并且在合并的时候时间戳是增量写入的，所以不会出现时间戳错误的问题。

## DDTV的处理方式所产生的结果  
1：全程没断流，时间轴正常，只有一个flv文件  
2：网络卡顿或断线重连导致时间戳出错，会自动根据断流的次数分为多个缓存文件，最后直接进行文件流合并，合并的时候会清空原有时间戳，打上正确的时间戳  
  
## 结论
录制出来的文件对用户来说就是一个可以正常播放的视频文件，不需要用户进行任何的多余操作~

::: tip
该功能我在自己的测试服务器上录制了超过3000小时几百个不同主播的直播，全部和上述结论相同。  
如果您进行录播的时候产生的该功能的任何疑问，请联系我，我进行复现测试确认问题所在，感谢。
:::